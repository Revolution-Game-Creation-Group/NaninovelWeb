<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Characters | Naninovel</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/assets/img/logo.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/assets/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/assets/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="A full-featured, writer-friendly and completely customizable visual novel extension for Unity game engine.">
    <meta name="theme-color" content="#4985c2">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="og:image" content="/assets/img/og.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="msapplication-TileImage" content="/assets/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="google-site-verification" content="cdvgJ2XFFbaGErDKJtTbFj9u9frfReZ9rzUnsf9F6nI">
    <link rel="preload" href="/assets/css/0.styles.5fdefc7e.css" as="style"><link rel="preload" href="/assets/js/app.abd78ef5.js" as="script"><link rel="preload" href="/assets/js/3.0a63b94e.js" as="script"><link rel="preload" href="/assets/js/13.bfac9585.js" as="script"><link rel="prefetch" href="/assets/js/10.d61de8ad.js"><link rel="prefetch" href="/assets/js/100.30369e15.js"><link rel="prefetch" href="/assets/js/101.1a32d640.js"><link rel="prefetch" href="/assets/js/102.4592bb08.js"><link rel="prefetch" href="/assets/js/103.cd9d808f.js"><link rel="prefetch" href="/assets/js/104.6cdd752b.js"><link rel="prefetch" href="/assets/js/105.a1795a52.js"><link rel="prefetch" href="/assets/js/106.5f935f81.js"><link rel="prefetch" href="/assets/js/107.dd1e9890.js"><link rel="prefetch" href="/assets/js/108.19f09eab.js"><link rel="prefetch" href="/assets/js/109.f952e4c6.js"><link rel="prefetch" href="/assets/js/11.c28d3800.js"><link rel="prefetch" href="/assets/js/110.5646c33d.js"><link rel="prefetch" href="/assets/js/111.fb566fb7.js"><link rel="prefetch" href="/assets/js/112.e18609bf.js"><link rel="prefetch" href="/assets/js/113.ed168ca4.js"><link rel="prefetch" href="/assets/js/114.53853728.js"><link rel="prefetch" href="/assets/js/115.72606afe.js"><link rel="prefetch" href="/assets/js/116.fc6e1be3.js"><link rel="prefetch" href="/assets/js/117.b8d069bf.js"><link rel="prefetch" href="/assets/js/118.ff03ad55.js"><link rel="prefetch" href="/assets/js/119.e7281f41.js"><link rel="prefetch" href="/assets/js/12.468ee593.js"><link rel="prefetch" href="/assets/js/120.829c1287.js"><link rel="prefetch" href="/assets/js/121.a60808b3.js"><link rel="prefetch" href="/assets/js/122.e19c08ee.js"><link rel="prefetch" href="/assets/js/123.9c237701.js"><link rel="prefetch" href="/assets/js/124.ab1482db.js"><link rel="prefetch" href="/assets/js/125.a99087f1.js"><link rel="prefetch" href="/assets/js/126.6ee02227.js"><link rel="prefetch" href="/assets/js/127.afabca52.js"><link rel="prefetch" href="/assets/js/128.c140b0ca.js"><link rel="prefetch" href="/assets/js/129.62b4a3f9.js"><link rel="prefetch" href="/assets/js/130.22168877.js"><link rel="prefetch" href="/assets/js/131.a7f4ab37.js"><link rel="prefetch" href="/assets/js/132.b426c0e0.js"><link rel="prefetch" href="/assets/js/133.bde63498.js"><link rel="prefetch" href="/assets/js/134.6756176d.js"><link rel="prefetch" href="/assets/js/135.1cabc389.js"><link rel="prefetch" href="/assets/js/136.d231ff1b.js"><link rel="prefetch" href="/assets/js/137.22d494bc.js"><link rel="prefetch" href="/assets/js/138.fb9cff04.js"><link rel="prefetch" href="/assets/js/139.edece4f9.js"><link rel="prefetch" href="/assets/js/14.e1f55fe1.js"><link rel="prefetch" href="/assets/js/140.d99c2536.js"><link rel="prefetch" href="/assets/js/141.114a259e.js"><link rel="prefetch" href="/assets/js/142.24243f33.js"><link rel="prefetch" href="/assets/js/143.8eb39aca.js"><link rel="prefetch" href="/assets/js/144.bb3086f8.js"><link rel="prefetch" href="/assets/js/145.3127f605.js"><link rel="prefetch" href="/assets/js/146.e77cb3b0.js"><link rel="prefetch" href="/assets/js/147.4d9c021b.js"><link rel="prefetch" href="/assets/js/148.26e2e66f.js"><link rel="prefetch" href="/assets/js/149.3b400854.js"><link rel="prefetch" href="/assets/js/15.c46325fa.js"><link rel="prefetch" href="/assets/js/150.5fdc28c5.js"><link rel="prefetch" href="/assets/js/151.6a25a827.js"><link rel="prefetch" href="/assets/js/152.411b84ec.js"><link rel="prefetch" href="/assets/js/153.844cde12.js"><link rel="prefetch" href="/assets/js/154.695197c4.js"><link rel="prefetch" href="/assets/js/155.a1f4c677.js"><link rel="prefetch" href="/assets/js/156.ef60a314.js"><link rel="prefetch" href="/assets/js/157.845b90a1.js"><link rel="prefetch" href="/assets/js/158.70bcf6b5.js"><link rel="prefetch" href="/assets/js/159.6a2b03c5.js"><link rel="prefetch" href="/assets/js/16.4392c63a.js"><link rel="prefetch" href="/assets/js/160.3ff6dd0e.js"><link rel="prefetch" href="/assets/js/161.cf5961f0.js"><link rel="prefetch" href="/assets/js/162.3eb7a92c.js"><link rel="prefetch" href="/assets/js/163.b4270af6.js"><link rel="prefetch" href="/assets/js/164.e51cfd30.js"><link rel="prefetch" href="/assets/js/165.4297c436.js"><link rel="prefetch" href="/assets/js/166.adf1297b.js"><link rel="prefetch" href="/assets/js/167.f0872098.js"><link rel="prefetch" href="/assets/js/168.2185fe41.js"><link rel="prefetch" href="/assets/js/169.ce844c2e.js"><link rel="prefetch" href="/assets/js/17.a3bbc4bb.js"><link rel="prefetch" href="/assets/js/170.31ed39de.js"><link rel="prefetch" href="/assets/js/171.e2e6779c.js"><link rel="prefetch" href="/assets/js/172.d1e89518.js"><link rel="prefetch" href="/assets/js/173.f467d1f2.js"><link rel="prefetch" href="/assets/js/174.95883a25.js"><link rel="prefetch" href="/assets/js/175.a20b0179.js"><link rel="prefetch" href="/assets/js/176.bb473c6e.js"><link rel="prefetch" href="/assets/js/177.adf32b0b.js"><link rel="prefetch" href="/assets/js/178.719e971d.js"><link rel="prefetch" href="/assets/js/179.cc2ef20f.js"><link rel="prefetch" href="/assets/js/18.ba9f8c61.js"><link rel="prefetch" href="/assets/js/180.8c9b589c.js"><link rel="prefetch" href="/assets/js/181.63041663.js"><link rel="prefetch" href="/assets/js/182.6797a4d5.js"><link rel="prefetch" href="/assets/js/183.1f153e10.js"><link rel="prefetch" href="/assets/js/184.c3240a93.js"><link rel="prefetch" href="/assets/js/185.d01ff9a9.js"><link rel="prefetch" href="/assets/js/186.99835098.js"><link rel="prefetch" href="/assets/js/187.f4907c4e.js"><link rel="prefetch" href="/assets/js/188.18532856.js"><link rel="prefetch" href="/assets/js/189.6c846764.js"><link rel="prefetch" href="/assets/js/19.a2f4f04f.js"><link rel="prefetch" href="/assets/js/20.e5c8f0d7.js"><link rel="prefetch" href="/assets/js/21.3f32a84b.js"><link rel="prefetch" href="/assets/js/22.53e212ca.js"><link rel="prefetch" href="/assets/js/23.041a82e9.js"><link rel="prefetch" href="/assets/js/24.b4250a8c.js"><link rel="prefetch" href="/assets/js/25.4a0ebc3b.js"><link rel="prefetch" href="/assets/js/26.d56d5cc2.js"><link rel="prefetch" href="/assets/js/27.6ae54013.js"><link rel="prefetch" href="/assets/js/28.d081b541.js"><link rel="prefetch" href="/assets/js/29.1af4c83e.js"><link rel="prefetch" href="/assets/js/30.b4749d85.js"><link rel="prefetch" href="/assets/js/31.5bf19aaa.js"><link rel="prefetch" href="/assets/js/32.cf1b886e.js"><link rel="prefetch" href="/assets/js/33.bdc8b80c.js"><link rel="prefetch" href="/assets/js/34.8f20d35d.js"><link rel="prefetch" href="/assets/js/35.c44e390f.js"><link rel="prefetch" href="/assets/js/36.610d027e.js"><link rel="prefetch" href="/assets/js/37.ddab2fe9.js"><link rel="prefetch" href="/assets/js/38.1a1a4ae9.js"><link rel="prefetch" href="/assets/js/39.f3df24db.js"><link rel="prefetch" href="/assets/js/4.d5ff7d0b.js"><link rel="prefetch" href="/assets/js/40.1f16776e.js"><link rel="prefetch" href="/assets/js/41.b01d7d0f.js"><link rel="prefetch" href="/assets/js/42.3c55233d.js"><link rel="prefetch" href="/assets/js/43.9706fa3d.js"><link rel="prefetch" href="/assets/js/44.61535505.js"><link rel="prefetch" href="/assets/js/45.e6e5bc6b.js"><link rel="prefetch" href="/assets/js/46.a5d18303.js"><link rel="prefetch" href="/assets/js/47.a4730566.js"><link rel="prefetch" href="/assets/js/48.d67ebd0c.js"><link rel="prefetch" href="/assets/js/49.6bd71759.js"><link rel="prefetch" href="/assets/js/5.0f441bcb.js"><link rel="prefetch" href="/assets/js/50.b701bff0.js"><link rel="prefetch" href="/assets/js/51.7a078f30.js"><link rel="prefetch" href="/assets/js/52.c936ae89.js"><link rel="prefetch" href="/assets/js/53.1a88482d.js"><link rel="prefetch" href="/assets/js/54.d36ead9b.js"><link rel="prefetch" href="/assets/js/55.a036a217.js"><link rel="prefetch" href="/assets/js/56.dd2adcb7.js"><link rel="prefetch" href="/assets/js/57.8eba43ae.js"><link rel="prefetch" href="/assets/js/58.62eafec7.js"><link rel="prefetch" href="/assets/js/59.9df082ea.js"><link rel="prefetch" href="/assets/js/6.a9ad5328.js"><link rel="prefetch" href="/assets/js/60.6c681619.js"><link rel="prefetch" href="/assets/js/61.e7cd7992.js"><link rel="prefetch" href="/assets/js/62.b6fd603f.js"><link rel="prefetch" href="/assets/js/63.0ea124da.js"><link rel="prefetch" href="/assets/js/64.0292f6d2.js"><link rel="prefetch" href="/assets/js/65.1d2d4c65.js"><link rel="prefetch" href="/assets/js/66.072062ae.js"><link rel="prefetch" href="/assets/js/67.e0985617.js"><link rel="prefetch" href="/assets/js/68.866d7129.js"><link rel="prefetch" href="/assets/js/69.0ed1afa6.js"><link rel="prefetch" href="/assets/js/7.1056a6db.js"><link rel="prefetch" href="/assets/js/70.6ae425e8.js"><link rel="prefetch" href="/assets/js/71.faa094bb.js"><link rel="prefetch" href="/assets/js/72.89e4ffbd.js"><link rel="prefetch" href="/assets/js/73.568041e0.js"><link rel="prefetch" href="/assets/js/74.a50794c9.js"><link rel="prefetch" href="/assets/js/75.7fe5c1ea.js"><link rel="prefetch" href="/assets/js/76.0cbcac11.js"><link rel="prefetch" href="/assets/js/77.7a52fa36.js"><link rel="prefetch" href="/assets/js/78.7f7c6125.js"><link rel="prefetch" href="/assets/js/79.31f156b8.js"><link rel="prefetch" href="/assets/js/8.dd1b52de.js"><link rel="prefetch" href="/assets/js/80.e357d5b5.js"><link rel="prefetch" href="/assets/js/81.37838397.js"><link rel="prefetch" href="/assets/js/82.a8e44c5e.js"><link rel="prefetch" href="/assets/js/83.a560f09f.js"><link rel="prefetch" href="/assets/js/84.42b98fc6.js"><link rel="prefetch" href="/assets/js/85.f84f3ba1.js"><link rel="prefetch" href="/assets/js/86.3a9579cc.js"><link rel="prefetch" href="/assets/js/87.8b9ab390.js"><link rel="prefetch" href="/assets/js/88.1ed8c939.js"><link rel="prefetch" href="/assets/js/89.ac5befba.js"><link rel="prefetch" href="/assets/js/9.120b875c.js"><link rel="prefetch" href="/assets/js/90.608c52bc.js"><link rel="prefetch" href="/assets/js/91.2dcab100.js"><link rel="prefetch" href="/assets/js/92.96cd90ef.js"><link rel="prefetch" href="/assets/js/93.1cbd139d.js"><link rel="prefetch" href="/assets/js/94.7a91b1d8.js"><link rel="prefetch" href="/assets/js/95.5e42b470.js"><link rel="prefetch" href="/assets/js/96.cc944492.js"><link rel="prefetch" href="/assets/js/97.54caf9f9.js"><link rel="prefetch" href="/assets/js/98.0533fa3f.js"><link rel="prefetch" href="/assets/js/99.d956e49f.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.72c12505.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5fdefc7e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="https://naninovel.com"><!----> <span class="site-name">Naninovel</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  Commands
</a></div><div class="nav-item"><a href="/support/" class="nav-link">
  Support
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language" class="dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/characters.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/guide/characters.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/characters.html" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/ru/guide/characters.html" class="nav-link">
  Русский
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  Commands
</a></div><div class="nav-item"><a href="/support/" class="nav-link">
  Support
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language" class="dropdown-title"><span class="title">Language</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/characters.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/ja/guide/characters.html" class="nav-link">
  日本語
</a></li><li class="dropdown-item"><!----> <a href="/zh/guide/characters.html" class="nav-link">
  中文
</a></li><li class="dropdown-item"><!----> <a href="/ru/guide/characters.html" class="nav-link">
  Русский
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/guide/compatibility.html" class="sidebar-link">Compatibility</a></li><li><a href="/guide/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/guide/configuration.html" class="sidebar-link">Configuration</a></li><li><a href="/guide/naninovel-scripts.html" class="sidebar-link">Naninovel Scripts</a></li><li><a href="/guide/text-printers.html" class="sidebar-link">Text Printers</a></li><li><a href="/guide/characters.html" aria-current="page" class="active sidebar-link">Characters</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/characters.html#poses" class="sidebar-link">Poses</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#display-names" class="sidebar-link">Display Names</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#message-colors" class="sidebar-link">Message Colors</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#avatar-textures" class="sidebar-link">Avatar Textures</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#speaker-highlight" class="sidebar-link">Speaker Highlight</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#lip-sync" class="sidebar-link">Lip Sync</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#linked-printer" class="sidebar-link">Linked Printer</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#sprite-characters" class="sidebar-link">Sprite Characters</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#diced-sprite-characters" class="sidebar-link">Diced Sprite Characters</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#layered-characters" class="sidebar-link">Layered Characters</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#generic-characters" class="sidebar-link">Generic Characters</a></li><li class="sidebar-sub-header"><a href="/guide/characters.html#live2d-characters" class="sidebar-link">Live2D Characters</a></li></ul></li><li><a href="/guide/backgrounds.html" class="sidebar-link">Backgrounds</a></li><li><a href="/guide/transition-effects.html" class="sidebar-link">Transition Effects</a></li><li><a href="/guide/special-effects.html" class="sidebar-link">Special Effects</a></li><li><a href="/guide/audio.html" class="sidebar-link">Audio</a></li><li><a href="/guide/voicing.html" class="sidebar-link">Voicing</a></li><li><a href="/guide/movies.html" class="sidebar-link">Movies</a></li><li><a href="/guide/choices.html" class="sidebar-link">Choices</a></li><li><a href="/guide/user-interface.html" class="sidebar-link">User Interface</a></li><li><a href="/guide/save-load-system.html" class="sidebar-link">Save-Load System</a></li><li><a href="/guide/game-settings.html" class="sidebar-link">Game Settings</a></li><li><a href="/guide/input-processing.html" class="sidebar-link">Input Processing</a></li><li><a href="/guide/unlockable-items.html" class="sidebar-link">Unlockable Items</a></li><li><a href="/guide/custom-variables.html" class="sidebar-link">Custom Variables</a></li><li><a href="/guide/script-expressions.html" class="sidebar-link">Script Expressions</a></li><li><a href="/guide/managed-text.html" class="sidebar-link">Managed Text</a></li><li><a href="/guide/localization.html" class="sidebar-link">Localization</a></li><li><a href="/guide/resource-providers.html" class="sidebar-link">Resource Providers</a></li><li><a href="/guide/community-modding.html" class="sidebar-link">Community Modding</a></li><li><a href="/guide/development-console.html" class="sidebar-link">Development Console</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Advanced</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Extensions</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="characters"><a href="#characters" class="header-anchor">#</a> Characters</h1> <p>Characters are actors used to represent scene entities that are placed on top of the <a href="/guide/backgrounds.html">backgrounds</a>.</p> <p>A character actor is defined with a name, appearance, visibility, transform (position, rotation, scale) and look direction. It can change appearance, visibility, transform and look direction over time.</p> <p>Characters' behavior can be configured using <code>Naninovel -&gt; Configuration -&gt; Characters</code> context menu; for available options see <a href="/guide/configuration.html#characters">configuration guide</a>. The characters' resources manager can be accessed using <code>Naninovel -&gt; Resources -&gt; Characters</code> context menu.</p> <p><img src="https://i.gyazo.com/c8a4f7f987621831b4a2ecb3145a4a07.png" alt="Add Character"></p> <p>In case you have a lot of characters and/or appearances per character and it's inconvenient to assign them all via editor menu, it's possible to just drop them at <code>Resources/Naninovel/Characters</code> folder, grouped under folders corresponding to actor ID. Eg, to add appearances for a character actor with &quot;Kohaku&quot; ID, store the textures (sprites) at <code>Resources/Naninovel/Characters/Kohaku</code> folder and they'll automatically be available in the scripts.</p> <p>You can additionally organize appearance resources with sub-folders, if you wish; in this case use forward slashes (<code>/</code>) when referencing them in naninovel scripts. Eg, appearance texture stored as <code>Resources/Naninovel/Characters/Kohaku/Casual/Angry</code> can be referenced in scripts as <code>Casual/Angry</code>.</p> <p>It's also possible to use <a href="/guide/resource-providers.html#addressable">addressable asset system</a> to manually expose the resources. To expose an asset, assign address equal to the path you'd use to expose it via the method described above, except omit the &quot;Resources/&quot; part. Eg, to expose a &quot;Happy&quot; appearance for &quot;Kohaku&quot; character, assign the texture asset following address: <code>Naninovel/Characters/Kohaku/Happy</code>. Be aware, that addressable provider is not used in editor by default; you can allow it by enabling <code>Enable Addressable In Editor</code> property in resource provider configuration menu.</p> <p>In naninovel scripts, characters are mostly controlled with <a href="/api/#char" target="_blank"><code>@char</code></a> command:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Shows character with name `Sora` with a default appearance.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sora</span></span></span>

<span class="token comment">; Same as above, but sets appearance to `Happy`.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sora.Happy</span></span></span>

<span class="token comment">; Same as above, but also positions the character 45% away from the left border</span>
<span class="token comment">; of the screen and 10% away from the bottom border; also makes him look to the left.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Sora.Happy</span><span class="token command-param-id property"> look:</span><span class="token command-param-value operator">left</span><span class="token command-param-id property"> pos:</span><span class="token command-param-value operator">45,10</span></span></span>
</code></pre></div><h2 id="poses"><a href="#poses" class="header-anchor">#</a> Poses</h2> <p>Each character has <code>Poses</code> property allowing to specify named states (poses).</p> <p><img src="https://i.gyazo.com/5b022d32eddb3e721ed036c96f662f5d.png" alt=""></p> <p>Pose name can be used as appearance in <a href="/api/#char" target="_blank"><code>@char</code></a> command to apply all the parameters specified in the pose state at once, instead of specifying them individually via the command parameters.</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Given `SuperAngry` pose is defined for `Kohaku` character,</span>
<span class="token comment">; applies all the parameters specified in the pose state.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku.SuperAngry</span></span></span>

<span class="token comment">; Same as above, but using `DropFade` transition over 3 seconds.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku.SuperAngry</span><span class="token command-param-id property"> transition:</span><span class="token command-param-value operator">DropFade</span><span class="token command-param-id property"> time:</span><span class="token command-param-value operator">3</span></span></span>
</code></pre></div><p>Notice, that when a pose is used as appearance, you can still override individual parameters, eg:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Given `SuperAngry` pose is defined for `Kohaku` character,</span>
<span class="token comment">; applies all the parameters specified in the pose state,</span>
<span class="token comment">; except tint, which is overridden in the command.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kohaku.SuperAngry</span><span class="token command-param-id property"> tint:</span><span class="token command-param-value operator">#ff45cb</span></span></span>
</code></pre></div><h2 id="display-names"><a href="#display-names" class="header-anchor">#</a> Display Names</h2> <p>In the character configuration you can set a <code>Display Name</code> for specific characters. When set, display name will be shown in the printer name label UI, instead of the character's ID. This allows using compound character names, that contains spaces and special characters (which is not allowed for IDs).</p> <p>For localization, use &quot;CharacterNames&quot; <a href="/guide/managed-text">managed text</a> document, which is automatically created when running generate managed text resources task. Values from the &quot;CharacterNames&quot; document won't override values set in the character metadata when under the source locale.</p> <p>It's possible to bind a display name to a custom variable to dynamically change it throughout the game via naninovel scripts. To bind a display name, specify name of the custom variable wrapped in curly braces in the character configuration menu.</p> <p><img src="https://i.gyazo.com/9743061df462bd809afc45bff20bbb6d.png" alt=""></p> <p>You can then change the variable value in the scripts and it will also change the display name:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">PlayerName=&quot;Mistery</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Man&quot;</span></span></span>
<span class="token generic-text punctuation">Player: ...</span>

<span class="token command function"><span class="token command-name">@set</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">PlayerName=&quot;Dr.</span><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Stein&quot;</span></span></span>
<span class="token generic-text punctuation">Player: You can call me Dr. Stein.</span>
</code></pre></div><p>It's also possible to use the name binding feature to allow player pick their display name using <a href="/api/#input" target="_blank"><code>@input</code></a> command:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@input</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">PlayerName</span><span class="token command-param-id property"> summary:</span><span class="token quoted-string operator">&quot;Choose your name.&quot;</span></span></span>
<span class="token command function"><span class="token command-name">@stop</span></span>
<span class="token generic-text punctuation">Player: You can call me <span class="token expression selector">{PlayerName}</span>.</span>
</code></pre></div><h2 id="message-colors"><a href="#message-colors" class="header-anchor">#</a> Message Colors</h2> <p>When <code>Use Character Color</code> is enabled in the character configuration, printer text messages and name labels will be tinted in the specified colors when the corresponding character ID is specified in a <a href="/api/#print" target="_blank"><code>@print</code></a> command or generic text line.</p> <p>The following video demonstrates how to use display names and character colors.</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/u5B5s-X2Bw0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <h2 id="avatar-textures"><a href="#avatar-textures" class="header-anchor">#</a> Avatar Textures</h2> <p>You can assign avatar textures to characters using <code>avatar</code> parameter of <a href="/api/#char" target="_blank"><code>@char</code></a> command. Avatars will be shown by the compatible text printers when they print a text message that is associated with the character. Currently, only <code>Wide</code> and <code>Chat</code> text printers support the avatars feature.</p> <p><img src="https://i.gyazo.com/83c091c08846fa1cab8764a8d4dddeda.png" alt=""></p> <p>To use any given avatar, you have to first add it to the avatar resources and give it a name. You can do this via <code>Avatar Resources</code> property in the characters configuration menu.</p> <p><img src="https://i.gyazo.com/5a0f10d174aa75ed87da1b472567e40b.png" alt=""></p> <div class="custom-block note"><p class="custom-block-title">NOTICE</p> <p>Avatar names can be arbitrary and don't have to contain an existing character ID or appearance. This is only required when you want to associate an avatar with a character so that it's shown automatically.</p></div> <p>You can then show a specific avatar texture like this:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharacaterId</span><span class="token command-param-id property"> avatar:</span><span class="token command-param-value operator">AvatarName</span></span></span>
</code></pre></div><p>To set a default avatar for a character, give the avatar texture resource name that equals to <code>CharacterID/Default</code>; eg, to set a default avatar for character with ID <code>Kohaku</code> name the avatar resource <code>Kohaku/Default</code>. Default avatars will be shown automatically, even when <code>avatar</code> parameter is not specified in the <a href="/api/#char" target="_blank"><code>@char</code></a> commands.</p> <p>It's also possible to associate avatars with specific character appearances, so that when character changes appearance, the avatar will also change automatically. For this, name the avatar resources using the following format: <code>CharacterID/CharacterAppearance</code>, where <code>CharacterAppearance</code> is the name of the appearance for which to map the avatar resource.</p> <p>Please note, that the <strong>avatars are not directly connected with character appearances</strong> and shouldn't be considered as a way to show character on the scene. Appearances specified in character's resource manager are the actual representation of a character on the scene. Avatars is a standalone feature, that &quot;injects&quot; an arbitrary image to a compatible text printer.</p> <p>It's possible to show only the avatar of a character inside a text printer, but hide the character itself by setting <code>visible</code> parameter of the <a href="/api/#char" target="_blank"><code>@char</code></a> command to <code>false</code>, eg:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharacaterId</span><span class="token command-param-id property"> visible:</span><span class="token command-param-value operator">false</span></span></span>
</code></pre></div><p>In case you're constantly changing avatars while the character itself should remain hidden, consider disabling <code>Auto Show On Modify</code> in the characters configuration menu; when disabled, you won't have to specify <code>visible:false</code> to change any parameters of the character while it's hidden.</p> <h2 id="speaker-highlight"><a href="#speaker-highlight" class="header-anchor">#</a> Speaker Highlight</h2> <p>When enabled in the character configuration, will tint the character based on whether the last printed message is associated with it.</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/gobowgagdyE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <h2 id="lip-sync"><a href="#lip-sync" class="header-anchor">#</a> Lip Sync</h2> <p><a href="/guide/characters.html#generic-characters">Generic</a> and <a href="/guide/characters.html#live2d-characters">Live2D</a> character implementations support so called &quot;lip synchronization&quot; feature, allowing to drive character's mouth animation while its the author of the printed message by sending the appropriate events.</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/fx_YS2ZQGHI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <p>When <a href="/guide/voicing.html#auto-voicing">auto voicing</a> feature is enabled, lip sync events will be driven by the voice over; otherwise, printed text messages will activate the events. In the latter case, you'll probably sometimes want to manually start or stop the lip sync (eg, to prevent mouth animation when punctuation marks are printed); for such cases, use <a href="/api/#lipsync" target="_blank"><code>@lipSync</code></a> command.</p> <p>See <a href="/guide/characters.html#generic-characters">Generic</a> and <a href="/guide/characters.html#live2d-characters">Live2D</a> character implementation docs below for the details on how to setup the lip sync feature.</p> <h2 id="linked-printer"><a href="#linked-printer" class="header-anchor">#</a> Linked Printer</h2> <p>It's possible to associate a <a href="/guide/text-printers.html">text printer</a> with a character using <code>Linked Printer</code> property.</p> <p><img src="https://i.gyazo.com/50ca6b39cd7f708158678339244b1dc4.png" alt=""></p> <p>When linked, the printer will automatically be used to handle messages authored by the character.</p> <p>Be aware, that <a href="/api/#print" target="_blank"><code>@print</code></a> commands (that are also used under the hood when printing generic text lines) make associated printers default and hide other visible printers by default. When printers are linked to characters, print commands will automatically change the currently visible and default text printer, while printing text associated with the corresponding characters. It's possible to prevent this behavior by disabling <code>Auto Default</code> property in printer actor configuration menu; when disabled you'll have to manually show/hide and switch default printers with <a href="/api/#printer" target="_blank"><code>@printer</code></a> commands.</p> <h2 id="sprite-characters"><a href="#sprite-characters" class="header-anchor">#</a> Sprite Characters</h2> <p>Sprite implementation of the character actors is the most common and simple one; it uses a set of <a href="https://docs.unity3d.com/Manual/Sprites" target="_blank" rel="noopener noreferrer">sprite<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> assets to represent appearances of the character. The source of the sprite could be a <code>.jpg</code>, <code>.png</code>, <code>.tiff</code>, <code>.psd</code> or any other image (texture) file format <a href="https://docs.unity3d.com/Manual/ImportingTextures" target="_blank" rel="noopener noreferrer">supported by Unity<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Choose file formats that are most comfortable for your development workflow. When building the project, Unity will automatically convert all the source resources (textures, audio, video, etc) to the formats most suitable for the target platform, so it won't make difference in which format you originally store the resources in the project. Find more information on how Unity manage project assets in the <a href="https://docs.unity3d.com/Manual/AssetWorkflow" target="_blank" rel="noopener noreferrer">official documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <h2 id="diced-sprite-characters"><a href="#diced-sprite-characters" class="header-anchor">#</a> Diced Sprite Characters</h2> <p>Built with an open source <a href="https://github.com/Elringus/SpriteDicing" target="_blank" rel="noopener noreferrer">SpriteDicing<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> package, <code>DicedSpriteCharacter</code> implementation allows to significantly reduce build size and texture memory by reusing texture areas of the character sprites.</p> <p><img src="https://i.gyazo.com/af08d141e7a08b6a8e2ef60c07332bbf.png" alt="Sprite Dicing"></p> <p>Install the package via <a href="https://docs.unity3d.com/Manual/upm-ui.html" target="_blank" rel="noopener noreferrer">Unity package manager<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>: open package manager window (Window -&gt; Package Manager), click &quot;+&quot; button, choose &quot;Add package from git URL&quot;, enter <code>https://github.com/Elringus/SpriteDicing.git#package</code> to the input field and click &quot;Add&quot;.</p> <p><video loop="loop" autoplay="autoplay" muted="muted" class="video"><source src="https://i.gyazo.com/b54e9daa9a483d9bf7f74f0e94b2d38a.mp4" type="video/mp4"></video></p> <div class="custom-block note"><p class="custom-block-title">NOTICE</p> <p>Before installing a package from a Git repository, make sure a <a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">Git client<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is installed on your machine and Git executable path is set to the <a href="https://en.wikipedia.org/wiki/PATH_(variable)" target="_blank" rel="noopener noreferrer">PATH system environment variable<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (usually performed automatically during the installation).</p></div> <p>When &quot;SpriteDicing&quot; extension is installed via UPM, a <code>Naninovel.DicedSpriteCharacter</code> option will appear in the character implementations list.</p> <p><img src="https://i.gyazo.com/25360c9287a7b5a6a7feaba987a2bbb4.png" alt=""></p> <p><code>DicedSpriteAtlas</code> assets containing character appearances are used as the resources for the diced sprite characters. Each appearance is mapped by name to the diced sprites contained in the atlas.</p> <p>Be aware, that some of diced character metadata properties (eg, pixels per unit, pivot) are controlled by the atlas asset; while the values in the character configuration are applied to a render texture used to represent the actual sprite. When changing the atlas properties, don't forget to rebuild it for changes to take effect.</p> <p>Before generating the diced atlas, make sure to enable <code>Keep Original</code> under the <code>Pivot</code> option.</p> <p><img src="https://i.gyazo.com/9efa21f6272e00a3a5d8f27d9feb88ff.png" alt=""></p> <p>The following video guide covers creating and configuring diced sprite atlas, adding new diced character based on the created atlas and controlling the character from a naninovel script.</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/6PdOAOsnhio" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <h2 id="layered-characters"><a href="#layered-characters" class="header-anchor">#</a> Layered Characters</h2> <p>The layered implementation allows composing characters from multiple layers and then toggle them individually or in groups via naninovel scripts at runtime.</p> <p>To create a layered character prefab, use <code>Create -&gt; Naninovel -&gt; Character -&gt; Layered</code> asset context menu. Enter <a href="https://docs.unity3d.com/Manual/EditingInPrefabMode.html" target="_blank" rel="noopener noreferrer">prefab editing mode<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to compose the layers. Several layers and groups will be created by default. You can use them or delete and add your own.</p> <p>Each child game object of the root prefab object with a <a href="https://docs.unity3d.com/ScriptReference/Renderer.html" target="_blank" rel="noopener noreferrer">renderer<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>-derived component (eg, <code>SpriteRenderer</code>, <code>MeshRenderer</code>, eg) is considered a <em>layer</em>; other objects considered <em>groups</em>. Aside from organization and transformation purposes, placing layers inside groups will allow you to select a single layer or disable/enable all the layers inside a group with a single expression in naninovel script (more on that later).</p> <p>To hide some of the layers from being visible by default, disable renderer components (not the game objects).</p> <p>The white frame drawn over the prefab is used to describe the actor canvas, which will be rendered to a render texture at runtime. Make sure to minimize the empty areas inside the frame by moving the layers and groups to prevent wasting texture memory and for anchoring to work correctly.</p> <p><img src="https://i.gyazo.com/4ff103c27858ac9671ba3b94ab1ade20.png" alt=""></p> <p>You can scale the root game object to fine-tune the default size of the actor.</p> <p>When authoring layered character art in Photoshop, consider using Unity's <a href="https://docs.unity3d.com/Packages/com.unity.2d.psdimporter@3.0/manual/index.html" target="_blank" rel="noopener noreferrer">PSD Importer package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to automatically generate character prefab preserving all the layers and their positions. To preserve the layers hierarchy, make sure to enable <code>Use Layer Grouping</code> option in the import settings.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>When using sprites, set <code>Mesh Type</code> to <code>Full Rect</code> in the texture import settings to prevent rendering issues.</p> <p><img src="https://i.gyazo.com/16ebf843081c826e0add1a6304c2608f.png" alt=""></p></div> <p>Don't forget to add the created layered prefab to the character resources (<code>Naninovel -&gt; Resources -&gt; Characters</code>). Choose &quot;Naninovel.LayeredCharacter&quot; implementation and drop prefab to the &quot;Resource&quot; field when configuring the resource record.</p> <p>To control the layered characters in naninovel scripts, use <a href="/api/#char" target="_blank"><code>@char</code></a> command in the same way as with the other character implementations. The only difference is how you set the appearance: instead of a single ID, use the <em>layer composition expression</em>. There are three expression types:</p> <ul><li>Enable a single layer in group: <code>group&gt;layer</code></li> <li>Enable a layer: <code>group+layer</code></li> <li>Disable a layer: <code>group-layer</code></li></ul> <p>For example, consider a &quot;Miho&quot; character, which has a &quot;Body&quot; group with three layers: &quot;Uniform&quot;, &quot;SportSuit&quot; and &quot;Pajama&quot;. To enable &quot;Uniform&quot; layer and disable all the others, use the following command:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Miho.Body&gt;Uniform</span></span></span>
</code></pre></div><p>To enable or disable a layer without affecting any other layers in the group, use &quot;+&quot; and &quot;-&quot; respectively instead of &quot;&gt;&quot;. You can also specify multiple composition expressions splitting them with commas:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Enable glasses, disable hat, select &quot;Cool&quot; emotion.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharId.Head/Accessories+BlackGlasses,Head-Hat,Head/Emotions&gt;Cool</span></span></span>
</code></pre></div><p>To select a layer outside of any groups (a child of the root prefab object), just skip the group part, eg:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Given &quot;Halo&quot; layer object is placed under the prefab root, disable it</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharId.-Halo</span></span></span>
</code></pre></div><p>It's also possible to affect all the layers inside a group (and additionally its neighbors when using select expression) by omitting layer name in composition expression:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Disable all the layers in &quot;Body/Decoration&quot; group</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharId.Body/Decoration-</span></span></span>

<span class="token comment">; Enable all the existing layers.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharId.+</span></span></span>

<span class="token comment">; Given `Poses/Light` and `Poses/Dark` groups (each containing multiple layers), </span>
<span class="token comment">; enable all the layers inside `Light` group and disable layers inside `Dark` group</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">CharId.Poses/Light&gt;</span></span></span>
</code></pre></div><p>The above expressions will affect not only the direct descendants of the target groups, but all the layers contained in the underlaying groups, recursively.</p> <p>When an appearance is not specified (eg, <code>@char CharId</code> without previously setting any appearance), a default appearance will be used; default appearance of the layered characters equals to how the layered prefab looks in the editor.</p> <p>The video below demonstrates how to setup a layered character and control it via naninovel commands.</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/Bl3kXrg8tiI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <div class="custom-block note"><p class="custom-block-title">NOTICE</p> <p><code>@char Miho.Shoes&gt;</code> command displayed in the video will actually select the &quot;Shoes&quot; group (disabling all the neighbor groups), not hide it. Correct command to hide a group is <code>@char Miho.Shoes-</code>.</p></div> <p>It's possible to map composition expressions to keys via <code>Composition Map</code> property of <code>Layered Actor Behaviour</code> component:</p> <p><img src="https://i.gyazo.com/ede5cde3548a3187aa714d3e140750ba.png" alt=""></p> <p>— the keys can then be used to specify layered actor appearance:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token comment">; Corresponds to `Body&gt;Uniform,Hair/Back&gt;Straight,Hair/Front&gt;Straight,Shoes&gt;Grey`.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Miho.Uniform</span></span></span>
<span class="token comment">; Corresponds to `Hair/Back&gt;Straight,Hair/Front&gt;Straight`.</span>
<span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Miho.StraightHair</span></span></span>
</code></pre></div><p>While editing layered character prefab, it's possible to preview mapped composition expressions by right-clicking a map record and selecting &quot;Preview Composition&quot;.</p> <p><img src="https://i.gyazo.com/9fb0aeccf4f33245d9f975592ee86dbc.gif" alt=""></p> <p>Be aware, that the layer objects are not directly rendered by Unity cameras at runtime; instead, they're rendered once upon each composition (appearance) change to a temporary render texture, which is then fed to a custom mesh visible to the Naninovel camera. This setup is required to prevent semi-transparency overdraw issues and to support transition animation effects.</p> <div class="custom-block note"><p class="custom-block-title">NOTICE</p> <p>It's not recommended to use semi-transparent textures for root layers; otherwise, the non-opaque areas will appear darker, than they actually are. If using such layers is a must, one solution is to render the actor in reversed order with a special shader; see <a href="https://forum.naninovel.com/viewtopic.php?f=8&amp;t=59" target="_blank" rel="noopener noreferrer">the forum thread<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for an example.</p></div> <p>In case you wish to apply an animation or other dynamic behaviour to the layered character, enable <code>Animated</code> property found on <code>Layered Actor Behaviour</code> component. When the property is enabled, the layers will be rendered each frame (instead once per appearance change).</p> <h2 id="generic-characters"><a href="#generic-characters" class="header-anchor">#</a> Generic Characters</h2> <p>Generic character is the most flexible character actor implementation. It's based on a prefab with a <code>CharacterActorBehaviour</code> component attached to the root object. Appearance changes and all the other character parameters are routed as <a href="https://docs.unity3d.com/Manual/UnityEvents.html" target="_blank" rel="noopener noreferrer">Unity events<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> allowing to implement the behavior of the underlying object in any way you wish.</p> <p><img src="https://i.gyazo.com/9f799f4152782afb6ab86d3c494f4cc4.png" alt=""></p> <p>To create generic character prefab from a template, use <code>Create -&gt; Naninovel -&gt; Character -&gt; Generic</code> context asset menu.</p> <p>To setup lip sync feature for generic characters, use <code>On Started Speaking</code> and <code>On Finished Speaking</code> Unity events of <code>CharacterActorBehaviour</code> component. When the character becomes or ceases to be the author of any printed message (or rather when the message is fully revealed), the events will be invoked allowing you to trigger any custom logic, like starting or stopping mouth animation of the controlled character. This is similar to how UI's <code>On Show</code> and <code>On Hide</code> events work; find how they can be used to drive a custom animation in the <a href="/guide/user-interface.html#adding-custom-ui">UI customization guide</a>.</p> <p>Check the following video tutorial for example on setting up a 3D rigged model as a generic character and routing appearance changes to the rig animations via <a href="https://docs.unity3d.com/Manual/class-AnimatorController.html" target="_blank" rel="noopener noreferrer">Animator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> component.</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/HPxhR0I1u2Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <p>Be aware, that Unity's <code>Animator</code> component could fail to register <code>SetTrigger</code> when the game object is enabled/disabled in the same frame; in case you use <code>GameObject.SetActive</code> to handle visibility changes (as it's shown in the above tutorial), consider enabling/disabling the child objects with renderers instead.</p> <h2 id="live2d-characters"><a href="#live2d-characters" class="header-anchor">#</a> Live2D Characters</h2> <p>Live2D character implementation uses assets created with <a href="https://www.live2d.com" target="_blank" rel="noopener noreferrer">Live2D Cubism<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 2D modeling and animation software.</p> <p>In order to be able to use this implementation you have to first install <a href="https://live2d.github.io/#unity" target="_blank" rel="noopener noreferrer">Live2D Cubism SDK for Unity<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Consult official Live2D docs for the installation and usage instructions.</p> <p>Then download and import <a href="https://github.com/Elringus/NaninovelLive2D/raw/master/NaninovelLive2D.unitypackage" target="_blank" rel="noopener noreferrer">Live2D extension package<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Live2D model prefab used as the resource for the implementation should have a <code>Live2DController</code> component attached to the root object. Appearance changes are routed to the animator component as <a href="https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html" target="_blank" rel="noopener noreferrer">SetTrigger<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> commands appearance being the trigger name. Eg, if you have a &quot;Kaori&quot; Live2D character prefab and want to invoke a trigger with name &quot;Surprise&quot;, use the following command:</p> <div class="language-nani extra-class"><pre class="language-nani"><code><span class="token command function"><span class="token command-name">@char</span><span class="token command-params"><span class="token command-param-value operator"> </span><span class="token command-param-value operator">Kaori.Surprise</span></span></span>
</code></pre></div><p>Note, that the above command will only attempt to invoke a <a href="https://docs.unity3d.com/ScriptReference/Animator.SetTrigger.html" target="_blank" rel="noopener noreferrer">SetTrigger<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> with &quot;Surprise&quot; argument on the animator controller attached to the prefab; you have to compose underlying <a href="https://docs.unity3d.com/Manual/Animator" target="_blank" rel="noopener noreferrer">animator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> state machine yourself.</p> <div class="custom-block warn"><p class="custom-block-title">WARNING</p> <p>Latest version of Cubism SDK for Unity is working directly with <code>Animator</code> component; expressions and poses (exported as expression.json and pose.json), that were previously used in Cubism 2.x are now <a href="https://docs.live2d.com/cubism-sdk-tutorials/blendexpression" target="_blank" rel="noopener noreferrer">deprecated<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and not supported by Naninovel's extension for Live2D.</p></div> <p>When Live2D's <code>CubismLookController</code> and <code>CubismMouthController</code> components are present and setup on the Live2D model prefab, <code>Live2DController</code> can optionally use them to control look direction and mouth animation (aka lip sync feature) of the character.</p> <p><img src="https://i.gyazo.com/498fe948bc5cbdb4dfc5ebc5437ae6b4.png" alt=""></p> <p>Consult Live2D documentation on <a href="https://docs.live2d.com/cubism-sdk-tutorials/lookat" target="_blank" rel="noopener noreferrer">eye tracking<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://docs.live2d.com/cubism-sdk-tutorials/lipsync" target="_blank" rel="noopener noreferrer">lip sync<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for the setup details.</p> <p>Be aware, that <code>Live2DController</code> expects a &quot;Drawables&quot; gameobject inside the Live2D model prefab (created automatically when importing Live2D models to Unity); the controller will scale this gameobject at runtime in correspondence with &quot;scale&quot; parameter of the <a href="/api/#char" target="_blank"><code>@char</code></a> commands. Hence, any local scale values set in the editor will be ignored. To set an initial scale for the Live2D prefabs, please use scale of the parent gameobject as <a href="https://youtu.be/rw_Z69z0pAg?t=353" target="_blank" rel="noopener noreferrer">shown in the video guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>When Live2D extension is installed a &quot;Live2D&quot; item will appear in the Naninovel configuration menu providing following options:</p> <p><img src="https://i.gyazo.com/435a4824f0ce0dd8c9c3f29d457bab24.png" alt=""></p> <p>Render layer specifies the layer to apply for the Live2D prefabs and culling mask to use for the cameras that will render the prefabs. Render camera field allows to use a custom setup for the render camera (the default render camera is stored inside the packages &quot;Prefabs&quot; folder). Camera offset allows to offset the render camera from the rendered prefab; you can use this parameters to uniformly position all the Live2D prefabs relative to the camera.</p> <p>Following video guide covers exporting a Live2D character from Cubism Editor, configuring the prefab, creating a simple animator state machine and controlling the character from a naninovel script.</p> <p></p><div class="video-container"><iframe src="https://www.youtube-nocookie.com/embed/rw_Z69z0pAg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div><p></p> <div class="custom-block example"><p class="custom-block-title">EXAMPLE</p> <p>Check out an <a href="https://github.com/Elringus/NaninovelLive2D" target="_blank" rel="noopener noreferrer">example project on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, where a Live2D character is used with Naninovel. Be aware, that neither Naninovel, nor Live2D SDK packages are distributed with the project, hence compilation errors will be produced after opening it for the first time; import Naninovel from the Asset Store and Live2D Cubism SDK from their website to resolve the issues.</p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">August 31, 2020</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/text-printers.html" class="prev">
        Text Printers
      </a></span> <span class="next"><a href="/guide/backgrounds.html">
        Backgrounds
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.abd78ef5.js" defer></script><script src="/assets/js/3.0a63b94e.js" defer></script><script src="/assets/js/13.bfac9585.js" defer></script>
  </body>
</html>
